pkgname=python-cheat
_gitname=cheat
pkgver=2.4.2
pkgrel=1
pkgdesc="Create and view interactive cheatsheets on the command-line."
arch=('any')
url="https://github.com/chrisallenlane/$_gitname"
depends=('python' 'python-docopt')
makedepends=('python-setuptools')
optdepends=('python-pygments' 'bash-completion' 'zsh-completions' 'fish')
license=('GPL3')
provides=("$_gitname")
conflicts=("$_gitname-git" "$_gitname-bash-git")
source=($pkgname-$pkgver.tar.gz::"https://github.com/chrisallenlane/$_gitname/archive/$pkgver.tar.gz")
sha256sums=('030231067ad1b9a5744f8cac631b5048549eff4b66e54d2213da6bd105241a16')

build() {
	cd "$_gitname-$pkgver"
	python setup.py build
}

package() {
	cd "$_gitname-$pkgver"
	python setup.py install --root="$pkgdir/" --optimize=1
	install -dm755 "$pkgdir/"usr/share/{bash-completion/completions,zsh/site-functions,fish/completions}
	install -m 644 "$srcdir/$_gitname-$pkgver/$_gitname/autocompletion/$_gitname.bash" "$pkgdir/usr/share/bash-completion/completions/$_gitname"
	install -m 644 "$srcdir/$_gitname-$pkgver/$_gitname/autocompletion/$_gitname.zsh" "$pkgdir/usr/share/zsh/site-functions/$_gitname"
	install -m 644 "$srcdir/$_gitname-$pkgver/$_gitname/autocompletion/$_gitname.fish" "$pkgdir/usr/share/fish/completions/$_gitname"
}

