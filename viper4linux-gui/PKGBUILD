pkgname=viper4linux-gui
pkgver=1.5
pkgrel=1
pkgdesc="Unofficial UI for Viper4Linux"
arch=('any')
url="https://github.com/ThePBone/Viper4Linux-GUI"
license=('GPL3')
depends=('viper4linux' 'qt5-base')
makedepends=('cmake')
source=("$pkgname-$pkgver.tar.gz::https://github.com/ThePBone/Viper4Linux-GUI/archive/$pkgver.tar.gz"
		"viper4linux-gui.desktop"
		"viper4linux-gui.png")
sha256sums=('6f5fab4150d7c0b2e81a636a5b8245800531a6d945886a4c19d41e44e7a5fd95'
            '012e8b24684d876240b3fd6d62741b236cd41bfbcaaf9b41bbe9f8375ca7df71'
            '905e9201da348e26e84c0b973a8f91383b0bcab4d642c23be5f60e21c106e8ce')

build() {
	cd "Viper4Linux-GUI-$pkgver"
	qmake
	make PREFIX=/usr
}

package() {
	cd "Viper4Linux-GUI-$pkgver"
	make INSTALL_ROOT="$pkgdir" install
	ln -s $pkgdir/opt/V4L_Frontend/bin/V4L_Frontend $pkgdir/usr/bin/viper-gui
	install -Dm644 $srcdir/$pkgname.desktop $pkgdir/usr/share/applications/$pkgname.desktop
	install -Dm644 $srcdir/$pkgname.png $pkgdir/usr/share/pixmaps/$pkgname.png
}
